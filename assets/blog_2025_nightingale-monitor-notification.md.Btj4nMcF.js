import{_ as p}from"./chunks/articleMetadata.CH2xeD7a.js";import{_ as o,C as c,c as h,o as e,j as l,G as E,at as d,a as k,w as g,b,e as m}from"./chunks/framework.CAzfEey9.js";import"./chunks/theme.CdwDD8CI.js";const N=JSON.parse('{"title":"夜莺v8执行自定义脚本并告警通知","description":"利用夜莺v8执行自定义脚本，进行对业务的数据告警并通知，包含自定义通知的实现","frontmatter":{"title":"夜莺v8执行自定义脚本并告警通知","description":"利用夜莺v8执行自定义脚本，进行对业务的数据告警并通知，包含自定义通知的实现","date":"2025-11-01T18:00:00.000Z","tags":["可观测"]},"headers":[],"relativePath":"blog/2025/nightingale-monitor-notification.md","filePath":"posts/blog/2025/4-nightingale-monitor-notification/README.md","lastUpdated":1762005690000}'),u={name:"blog/2025/nightingale-monitor-notification.md"};function f(a,s,y,_,v,C){const t=p,r=c("ClientOnly");return e(),h("div",null,[s[0]||(s[0]=l("h1",{id:"夜莺v8执行自定义脚本并告警通知",tabindex:"-1"},[k("夜莺v8执行自定义脚本并告警通知 "),l("a",{class:"header-anchor",href:"#夜莺v8执行自定义脚本并告警通知","aria-label":'Permalink to "夜莺v8执行自定义脚本并告警通知"'},"​")],-1)),E(r,null,{default:g(()=>{var n,i;return[(((n=a.$frontmatter)==null?void 0:n.aside)??!0)&&(((i=a.$frontmatter)==null?void 0:i.showArticleMetadata)??!0)?(e(),b(t,{key:0,article:a.$frontmatter},null,8,["article"])):m("",!0)]}),_:1}),s[1]||(s[1]=d(`<h2 id="系统架构图" tabindex="-1">系统架构图 <a class="header-anchor" href="#系统架构图" aria-label="Permalink to &quot;系统架构图&quot;">​</a></h2><div class="language-mermaid vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">mermaid</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">flowchart TD</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    subgraph DataCollection[数据采集层]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        A[自定义脚本] --&gt;|执行采集| B[Categraf采集器]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        B --&gt;|输出Influx格式数据| C[VictoriaMetrics]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    end</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    subgraph MonitoringPlatform[监控平台层]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        C --&gt;|作为数据源| D[夜莺v8平台]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        D --&gt;|配置告警规则| E[PromQL查询引擎]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        E --&gt;|触发告警| F[告警引擎]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    end</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    subgraph Notification[通知层]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        F --&gt;|调用通知渠道| G[自定义通知配置]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        G --&gt; H[邮件通知]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        G --&gt; I[钉钉通知]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        G --&gt; J[企业微信通知]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        G --&gt; K[Webhook通知]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    end</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    style DataCollection fill:#e1f5fe</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    style MonitoringPlatform fill:#f3e5f5</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    style Notification fill:#e8f5e8</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><h2 id="数据流说明" tabindex="-1">数据流说明 <a class="header-anchor" href="#数据流说明" aria-label="Permalink to &quot;数据流说明&quot;">​</a></h2><ol><li><strong>数据采集层</strong>: Categraf作为采集器执行自定义脚本，将数据转换为Influx格式</li><li><strong>存储层</strong>: VictoriaMetrics作为时序数据库存储监控数据</li><li><strong>监控层</strong>: 夜莺v8平台配置数据源和告警规则，使用PromQL进行数据查询</li><li><strong>告警层</strong>: 告警引擎根据规则触发告警事件</li><li><strong>通知层</strong>: 通过自定义通知配置将告警信息发送到各种渠道</li></ol><h2 id="categraf" tabindex="-1">Categraf <a class="header-anchor" href="#categraf" aria-label="Permalink to &quot;Categraf&quot;">​</a></h2><p>categraf的文档推荐阅读，<a href="https://flashcat.cloud/docs/content/flashcat-monitor/categraf/1-introduction/" target="_blank" rel="noreferrer">doc</a></p>`,6))])}const T=o(u,[["render",f]]);export{N as __pageData,T as default};
