import{_ as l}from"./chunks/articleMetadata.blKJ6eD7.js";import{_ as h,h as r,u as d,B as c,l as e,x as o,ai as k,m as g,f as n,p as F,q as m}from"./chunks/framework.Cy-Cf61O.js";import"./chunks/theme.DZnwzHNL.js";const A=JSON.parse('{"title":"pnpm patch使用","description":"在前端项目依赖三方包出现问题时，可以通过打patch的方式进行包的修改，比直接改node_modules优雅","frontmatter":{"title":"pnpm patch使用","description":"在前端项目依赖三方包出现问题时，可以通过打patch的方式进行包的修改，比直接改node_modules优雅","date":"2024-05-08T23:04:56.000Z","tags":["前端"]},"headers":[],"relativePath":"blog/2024/pnpm-patch.md","filePath":"posts/blog/2024/pnpm-patch/README.md","lastUpdated":1721009694000}'),u={name:"blog/2024/pnpm-patch.md"},y=e("h1",{id:"pnpm-patch使用",tabindex:"-1"},[o("PNPM Patch使用 "),e("a",{class:"header-anchor",href:"#pnpm-patch使用","aria-label":'Permalink to "PNPM Patch使用"'},"​")],-1),b=k(`<div class="tip custom-block"><p class="custom-block-title">引言</p><p>在前端项目依赖三方包出现问题时，可以通过打patch的方式进行包的修改，比直接改node_modules优雅，比如在本博客主题中就用到了pnpm-patch来解决几个三方包的问题</p></div><h3 id="命令" tabindex="-1">命令 <a class="header-anchor" href="#命令" aria-label="Permalink to &quot;命令&quot;">​</a></h3><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">//</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 生成指定包的修改路径，比如</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> patch</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cal-heatmap@4.2.4</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> patch</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">package-nam</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e&gt;&lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">package-versioi</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">n</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">//</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 提交修改后的diff信息</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> patch-commit</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">file-pat</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">h</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>例如：</strong></p><div class="language-shell vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">You</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> can</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> now</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> edit</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> following</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> folder:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /private/var/folders/7g/317tjb5x0yxgq04j83cvy35r0000gn/T/3df5590b271efc3f611652d5367079af</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Once</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> you&#39;re done with your changes, run &quot;pnpm patch-commit &#39;/private/var/folders/7g/317tjb5x0yxgq04j83cvy35r0000gn/T/3df5590b271efc3f611652d5367079af&#39;&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ol><li><p><code>/private/var/folders/7g/317tjb5x0yxgq04j83cvy35r0000gn/T/3df5590b271efc3f611652d5367079af</code> 用vscode直接打开修改要修改的代码</p></li><li><p>然后 <code>pnpm patch-commit &#39;/private/var/folders/7g/317tjb5x0yxgq04j83cvy35r0000gn/T/3df5590b271efc3f611652d5367079af&#39;</code> 直接提交</p></li></ol>`,6);function f(s,_,E,C,v,B){const t=l,p=g("ClientOnly");return n(),r("div",null,[y,d(p,null,{default:c(()=>{var a,i;return[(((a=s.$frontmatter)==null?void 0:a.aside)??!0)&&(((i=s.$frontmatter)==null?void 0:i.showArticleMetadata)??!0)?(n(),F(t,{key:0,article:s.$frontmatter},null,8,["article"])):m("",!0)]}),_:1}),b])}const q=h(u,[["render",f]]);export{A as __pageData,q as default};
