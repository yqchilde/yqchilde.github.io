import{_ as h}from"./chunks/articleMetadata.RAJF6xQ6.js";import{_ as r,C as o,c as k,o as t,j as e,G as d,at as g,a as c,w as b,b as u,e as F}from"./chunks/framework.CAzfEey9.js";import"./chunks/theme.DlMqTukI.js";const D=JSON.parse('{"title":"GoModuleæ·»åŠ ç§æœ‰ä»“åº“(åŒ…ä¼š)","description":"æœ¬ç¯‡è®°è½½äº†å¦‚ä½•æ·»åŠ gitlab/githubç§æœ‰ä»“åº“åˆ°go modä¸­ä½¿ç”¨ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨go getå‘½ä»¤è·å–åˆ°ç§æœ‰ä»“åº“çš„ä¾èµ–ã€‚","frontmatter":{"title":"GoModuleæ·»åŠ ç§æœ‰ä»“åº“(åŒ…ä¼š)","description":"æœ¬ç¯‡è®°è½½äº†å¦‚ä½•æ·»åŠ gitlab/githubç§æœ‰ä»“åº“åˆ°go modä¸­ä½¿ç”¨ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨go getå‘½ä»¤è·å–åˆ°ç§æœ‰ä»“åº“çš„ä¾èµ–ã€‚","date":"2022-04-17T22:38:34.000Z","tags":["Golang"]},"headers":[],"relativePath":"blog/2022/go-mod-private-repo.md","filePath":"posts/blog/2022/go-mod-private-repo/README.md","lastUpdated":1726155339000}'),m={name:"blog/2022/go-mod-private-repo.md"};function y(a,s,C,B,v,x){const l=h,p=o("ClientOnly");return t(),k("div",null,[s[0]||(s[0]=e("h1",{id:"gomoduleæ·»åŠ ç§æœ‰ä»“åº“-åŒ…ä¼š",tabindex:"-1"},[c("GoModuleæ·»åŠ ç§æœ‰ä»“åº“(åŒ…ä¼š) "),e("a",{class:"header-anchor",href:"#gomoduleæ·»åŠ ç§æœ‰ä»“åº“-åŒ…ä¼š","aria-label":'Permalink to "GoModuleæ·»åŠ ç§æœ‰ä»“åº“(åŒ…ä¼š)"'},"â€‹")],-1)),d(p,null,{default:b(()=>{var i,n;return[(((i=a.$frontmatter)==null?void 0:i.aside)??!0)&&(((n=a.$frontmatter)==null?void 0:n.showArticleMetadata)??!0)?(t(),u(l,{key:0,article:a.$frontmatter},null,8,["article"])):F("",!0)]}),_:1}),s[1]||(s[1]=g(`<div class="tip custom-block"><p class="custom-block-title">TIP</p><p>GoModuleæ·»åŠ ç§æœ‰ä»“åº“åªéœ€è¦ä¸‰æ­¥å°±æå®šäº†ğŸ‘Œ<br> 1.è®¾ç½®go envğŸ˜¯<br> 2.é…ç½®sshç§˜é’¥ğŸ˜…<br> 3.å…¨å±€æ›¿æ¢httpsè¯·æ±‚ä¸ºsshè¯·æ±‚ğŸ˜†</p></div><h2 id="_1-è®¾ç½®go-env" tabindex="-1">1. è®¾ç½®go env <a class="header-anchor" href="#_1-è®¾ç½®go-env" aria-label="Permalink to &quot;1. è®¾ç½®go env&quot;">â€‹</a></h2><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 1. (è®¾ç½®ç§æœ‰ä»“åº“çš„gitåœ°å€ï¼Œè¿™è¦çœ‹ä½ çš„go.modä¸­çš„ç§æœ‰ä»“åº“åœ°å€)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># æ¯”å¦‚gitlabçš„ç§æœ‰ä»“åº“æ˜¯ https://gitlab.xxx.cnï¼Œå°±å¦‚ä¸‹è®¾ç½®</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">go</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> env</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -w</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GOPRIVATE=&quot;https://gitlab.xxx.cn&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å¦‚æœæ˜¯githubçš„ç§æœ‰ä»“åº“ï¼Œæ¯”å¦‚ https://github.com/company/repoï¼Œå°±å¦‚ä¸‹è®¾ç½®</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">go</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> env</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -w</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GOPRIVATE=&quot;https://github.com/company&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 2. (xxxå’Œä¸Šé¢åœ°å€ä¸€æ ·ï¼Œå…¶å®æ‰§è¡Œå®Œ1ï¼ŒGONOPROXYå’ŒGONOSUMDBä¼šè‡ªåŠ¨è®¾ç½®ï¼Œå¯ä»¥go envæŸ¥çœ‹)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># è®¾ç½®è¯·æ±‚è¯¥åœ°å€ä¸éœ€è¦ä»£ç†ï¼Œå³GOPROXY</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">go</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> env</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -w</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GONOPROXY=&quot;xxx&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># è®¾ç½®ä¸éªŒè¯sumåŒ…çš„ç­¾å</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">go</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> env</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -w</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GONOSUMDB=&quot;xxx&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 3. (è¿™ä¸ªè®¾ç½®çš„å‰ææ˜¯ä½ å…¬å¸çš„gitlabæ²¡æœ‰é…ç½®https)</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å…è®¸è®¾ç½®ä¸å®‰å…¨è®¿é—®ï¼Œè·³è¿‡è¯ä¹¦æ ¡éªŒï¼Œé…ç½®åå¯è¯·æ±‚åˆ° http åœ°å€çš„ä»“åº“</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">go</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> env</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -w</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> GOINSECURE=&quot;xxx&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><h2 id="_2-é…ç½®sshç§˜é’¥" tabindex="-1">2. é…ç½®sshç§˜é’¥ <a class="header-anchor" href="#_2-é…ç½®sshç§˜é’¥" aria-label="Permalink to &quot;2. é…ç½®sshç§˜é’¥&quot;">â€‹</a></h2><p>æ¨èçœ‹ä¸€ä¸‹æˆ‘å†™çš„è¿™ç¯‡æ–‡ç« ï¼Œæ–‡ç« è¯¦æƒ…è¯·ç‚¹å‡»ï¼šğŸ‘‰ <a href="./../../workflow/git/multi-account">Git å¤šè´¦æˆ·é…ç½®</a></p><h2 id="_3-å…¨å±€æ›¿æ¢httpsè¯·æ±‚ä¸ºsshè¯·æ±‚" tabindex="-1">3. å…¨å±€æ›¿æ¢httpsè¯·æ±‚ä¸ºsshè¯·æ±‚ <a class="header-anchor" href="#_3-å…¨å±€æ›¿æ¢httpsè¯·æ±‚ä¸ºsshè¯·æ±‚" aria-label="Permalink to &quot;3. å…¨å±€æ›¿æ¢httpsè¯·æ±‚ä¸ºsshè¯·æ±‚&quot;">â€‹</a></h2><p><code>go mod tidy/download</code> æ‹‰å–åŒ…æ—¶é»˜è®¤éƒ½æ˜¯httpsè¯·æ±‚ï¼Œæ‰€ä»¥éœ€è¦æ›¿æ¢ä¸ºsshè¯·æ±‚ï¼Œå¦‚ä¸‹ï¼š</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># gitlab</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --global</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> url.&quot;ssh://git@gitlab-company&quot;.insteadOf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;https://gitlab.xxx.cn&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># githubçš„åŒç†</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --global</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> url.&quot;ssh://git@github-company&quot;.insteadOf</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;https://github.com&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>ç°åœ¨å·²ç»å¯ä»¥æ­£å¸¸æ‹‰åˆ°ç§æœ‰ä»“åº“åŒ…äº†ğŸ‘Œ</strong></p><h2 id="_4-gitlabé¢å¤–é…ç½®-netrc" tabindex="-1">4. gitlabé¢å¤–é…ç½®.netrc <a class="header-anchor" href="#_4-gitlabé¢å¤–é…ç½®-netrc" aria-label="Permalink to &quot;4. gitlabé¢å¤–é…ç½®.netrc&quot;">â€‹</a></h2><p><em>ç¬¬å››å¤§æ­¥éª¤åªéœ€è¦gitlabç§æœ‰ä»“åº“é˜…è§ˆï¼Œgithubçš„æ— éœ€é˜…è¯»</em></p><p>è¿™ä¸€æ­¥å¯ä»¥ç›´æ¥çœç•¥ç¬¬ 2ã€3 ä¸¤ä¸ªæ­¥éª¤ï¼Œç›´æ¥ä½¿ç”¨ .netrc æ–‡ä»¶ï¼ˆæ–‡ä»¶è·¯å¾„ï¼š ~/.netrc ï¼‰ï¼Œå¦‚ä¸‹ï¼š</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">machine</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> gitlab.xxx.cn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> login</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ç”¨æˆ·å</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> password</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ä¸Šé¢è®¾ç½®çš„ç§˜é’¥</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>ä½¿ç”¨è¯¥æ­¥éª¤è¿˜å¯ä»¥è§£å†³æ‰ä¸€ä¸ª <code>gitlab</code> çš„ä¸€ä¸ªä¸èƒ½æ‹‰å–å­ç»„åº“çš„é—®é¢˜: <a href="https://gitlab.com/gitlab-org/gitlab-foss/-/issues/30785" target="_blank" rel="noreferrer">Go get fails with the usage of subgroups</a>ï¼Œæ¯”å¦‚ï¼š</p><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å¦‚ä¸‹æ‹‰å–å‘½ä»¤å¦‚æœä¸ä½¿ç”¨æ­¥éª¤4çš„è¯å°±ä¼šæŠ¥é”™ </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># å› ä¸ºç”±äºgitlabçš„é™åˆ¶ï¼Œæœ€å¤šåªèƒ½æ‹‰å–åˆ°ä¸€ä¸ªå±‚çº§ï¼Œå³ gitlab.xxx.cn/a/b.git</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> go</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> get</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -u</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> gitlab.xxx.cn/a/b/c.git</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div>`,15))])}const f=r(m,[["render",y]]);export{D as __pageData,f as default};
