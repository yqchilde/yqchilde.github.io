import{_ as l}from"./chunks/articleMetadata.D4BBuYyh.js";import{_ as h,B as r,a as k,u as o,E as d,e,H as E,ah as c,o as n,D as g,C as u}from"./chunks/framework.DYe01KkP.js";import"./chunks/theme.ByMnOJdt.js";const v=JSON.parse('{"title":"Uni-App之携带session请求","description":"记载一下uniapp携带session的请求","frontmatter":{"title":"Uni-App之携带session请求","description":"记载一下uniapp携带session的请求","date":"2019-07-11T13:58:33.000Z","categories":["前端"],"tags":["UniAPP"]},"headers":[],"relativePath":"blog/2019/uniapp-with-session.md","filePath":"posts/blog/2019/uniapp-with-session/README.md","lastUpdated":1713798879000}'),y={name:"blog/2019/uniapp-with-session.md"},m=e("h1",{id:"uni-app之携带session请求",tabindex:"-1"},[E("Uni-App之携带session请求 "),e("a",{class:"header-anchor",href:"#uni-app之携带session请求","aria-label":'Permalink to "Uni-App之携带session请求"'},"​")],-1),_=c(`<h2 id="header请求头" tabindex="-1">header请求头 <a class="header-anchor" href="#header请求头" aria-label="Permalink to &quot;header请求头&quot;">​</a></h2><p>在uniapp里面uni.request是类似于ajax的异步请求，请求适合可以携带header头，那我们给header头加一个cookie信息即可，如下</p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> headers </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {};</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">headers[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;content-type&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;application/x-www-form-urlencoded; charset=UTF-8&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> PHPSESSID</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> uni.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getStorageSync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;PHPSESSID&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">PHPSESSID</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	headers[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;cookie&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;PHPSESSID=&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> PHPSESSID</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>将session放在header这个对象里面，同理当然也可以写其他需要的cookie信息</p>`,4);function F(s,b,C,S,A,D){const t=l,p=r("ClientOnly");return n(),k("div",null,[m,o(p,null,{default:d(()=>{var i,a;return[(((i=s.$frontmatter)==null?void 0:i.aside)??!0)&&(((a=s.$frontmatter)==null?void 0:a.showArticleMetadata)??!0)?(n(),g(t,{key:0,article:s.$frontmatter},null,8,["article"])):u("",!0)]}),_:1}),_])}const w=h(y,[["render",F]]);export{v as __pageData,w as default};
