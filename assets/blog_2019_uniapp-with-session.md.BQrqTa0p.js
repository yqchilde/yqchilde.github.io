import{_ as h}from"./chunks/articleMetadata.RAJF6xQ6.js";import{_ as r,C as k,c as d,o as n,j as t,G as o,at as E,a as c,w as g,b as u,e as y}from"./chunks/framework.CAzfEey9.js";import"./chunks/theme.DlMqTukI.js";const D=JSON.parse('{"title":"Uni-App之携带session请求","description":"记载一下uniapp携带session的请求","frontmatter":{"title":"Uni-App之携带session请求","description":"记载一下uniapp携带session的请求","date":"2019-07-11T13:58:33.000Z","tags":["UniAPP"]},"headers":[],"relativePath":"blog/2019/uniapp-with-session.md","filePath":"posts/blog/2019/uniapp-with-session/README.md","lastUpdated":1713953919000}'),m={name:"blog/2019/uniapp-with-session.md"};function F(i,s,b,_,C,S){const p=h,l=k("ClientOnly");return n(),d("div",null,[s[0]||(s[0]=t("h1",{id:"uni-app之携带session请求",tabindex:"-1"},[c("Uni-App之携带session请求 "),t("a",{class:"header-anchor",href:"#uni-app之携带session请求","aria-label":'Permalink to "Uni-App之携带session请求"'},"​")],-1)),o(l,null,{default:g(()=>{var a,e;return[(((a=i.$frontmatter)==null?void 0:a.aside)??!0)&&(((e=i.$frontmatter)==null?void 0:e.showArticleMetadata)??!0)?(n(),u(p,{key:0,article:i.$frontmatter},null,8,["article"])):y("",!0)]}),_:1}),s[1]||(s[1]=E(`<h2 id="header请求头" tabindex="-1">header请求头 <a class="header-anchor" href="#header请求头" aria-label="Permalink to &quot;header请求头&quot;">​</a></h2><p>在uniapp里面uni.request是类似于ajax的异步请求，请求适合可以携带header头，那我们给header头加一个cookie信息即可，如下</p><div class="language-javascript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> headers </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {};</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">headers[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;content-type&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;application/x-www-form-urlencoded; charset=UTF-8&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">let</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> PHPSESSID</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> uni.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getStorageSync</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;PHPSESSID&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">PHPSESSID</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">	headers[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;cookie&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;PHPSESSID=&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> +</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> PHPSESSID</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>将session放在header这个对象里面，同理当然也可以写其他需要的cookie信息</p>`,4))])}const B=r(m,[["render",F]]);export{D as __pageData,B as default};
